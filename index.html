
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Home Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-wide-page/wide.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter active" data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Home
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Home</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div style="display: flex; align-items: center">
  <img alt="logo" id="logo-img" src="logo.png" style="height: 100px;">
</div>

<h1 id="sql-workshop">SQL Workshop</h1>
<h2 id="sql-what-is-it">SQL, What Is It?</h2>
<p>SQL (Structured Query Language) is a querying language, plain and simple.
If you&apos;ve ever used formulas in Excel or Google Sheets, you&apos;ll feel some
familiarity here. The reason why SQL enters the conversation is at some point
the spreadsheet gets too large that it slows down, has too many sheets,
or the formulas get too complex to maintain.</p>
<h2 id="why-learn-it">Why Learn It?</h2>
<p>SQL has a place in every industry:</p>
<ul>
<li>Software development</li>
<li>Business intelligence</li>
<li>Marketing analysis</li>
<li>Algorithmic trading</li>
<li>Data visualization</li>
<li>Basically anywhere where there is data</li>
</ul>
<p>It is undoubtedly one of the most valuable skills you can have in any role that
typically involves a spreadsheet, period.</p>
<h2 id="what-does-it-look-like">What does it look like</h2>
<p>First, let&apos;s contrast it to what we may already know about spreadsheets.</p>
<p>Sheet =&gt; Table</p>
<p>Spreadsheet (many sheets) =&gt; SQL Database (many tables)</p>
<p>That&apos;s it. The jargon isn&apos;t too bad. Let&apos;s take a look at this spreadsheet, made up of many sheets.</p>
<iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTTXN-1_aA94PnyhXiS_Cgq_NZ715Ykm-NtOfiPNoVzvuJvdWKfK6zrVHNUnqpIc-4OZRCLIREFTHX3/pubhtml?widget=true&amp;headers=false" width="100%" height="600" frameborder="0"></iframe>

<p>In the right panel, we have a query-able representation of the database we&apos;ll be playing with, (or you can <a href="https://austindevs.github.io/sqljs.org/" target="_blank">open in a new window</a>)</p>
<iframe src="https://austindevs.github.io/sqljs.org/" width="50%" height="700" frameborder="0" style="float:right"></iframe>

<h3 id="querying">Querying</h3>
<p>The most basic query is to just list everything from a single table. Let&apos;s look
at the <code>products</code> table.</p>
<ol>
<li>First, we will <strong>always</strong> <code>SELECT</code> the fields that we want: <code>SELECT products.Title, products.Price</code></li>
<li>Then we will <strong>always</strong> say <code>FROM</code> where the data is coming: <code>FROM products</code></li>
</ol>
<p>These are the absolutely necessary part of every query</p>
<pre><code class="lang-sql"><span class="hljs-comment">-- You can write comments like this</span>
<span class="hljs-keyword">SELECT</span> products.Title, products.Price
<span class="hljs-keyword">FROM</span> products; <span class="hljs-comment">-- End your query with a semicolon</span>
</code></pre>
<h4 id="order-by"><code>ORDER BY</code></h4>
<p>So maybe not too impressive. Let&apos;s try some magic tricks. Maybe we can start by
<code>ORDER</code>ing them <code>BY</code> price.</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> products.Title, products.Price
<span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> products.Price;
</code></pre>
<p>This will order by <em>ascending</em> order (small to big)
You can also flip the order by using <code>DESC</code> (big to small)</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> products.Title, products.Price
<span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> products.Price <span class="hljs-keyword">DESC</span>;
</code></pre>
<h4 id="where"><code>WHERE</code></h4>
<p>And what if we only want &apos;Watches&apos;, sorted by most expensive?</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> products.Title, products.Price
<span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">WHERE</span> products.Title <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%watch%&apos;</span> <span class="hljs-comment">-- The two % let us search the whole phrase for the word &apos;watch&apos;</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> products.Price <span class="hljs-keyword">DESC</span>;
</code></pre>
<p>Notice the order of the <code>WHERE</code> and the <code>ORDER BY</code> statements. The order of these
statements are the first &quot;gotcha&quot;. A quick cheatsheet for the order of the most
popular statements is</p>
<ol>
<li><code>SELECT</code></li>
<li><code>FROM</code></li>
<li><code>JOIN</code></li>
<li><code>WHERE</code></li>
<li><code>GROUP BY</code></li>
<li><code>ORDER BY</code></li>
<li><code>LIMIT</code></li>
</ol>
<h4 id="join"><code>JOIN</code></h4>
<p><code>JOIN</code> is one of the most powerful features of a relational database. In Excel,
you might have used something similar like <code>VLOOKUP</code>, but SQL <code>JOIN</code>s are much
more powerful.</p>
<p>If you like puzzles, you&apos;ll love joining. It&apos;s all about finding a column on
one table that matches values on another table. For instance, look up at the
<code>people</code> table, and notice it has a <code>ID</code> column. This is called the
<strong>Primary Key</strong>, meaning that every product can be associated with this id, and
there are no duplicates.</p>
<p>Now look at the <code>orders</code> table. It has a <code>UserID</code> column. Each one of these
numbers is referring to an ID on the <code>people</code> table. This is called a <strong>Foreign Key</strong>.
You can have duplicates in this column because multiple <code>orders</code> can belong to the
same person. Let&apos;s join these tables together and view the user&apos;s name and email for every order&apos;s total!</p>
<p>Let&apos;s start with gathering our orders</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> orders.Total
<span class="hljs-keyword">FROM</span> orders;
</code></pre>
<p>Let&apos;s join <code>people</code> on <code>orders</code>!</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> orders.Total, people.<span class="hljs-keyword">Name</span>, people.Email
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">JOIN</span> people <span class="hljs-keyword">ON</span> orders.UserID = people.<span class="hljs-keyword">ID</span>;
</code></pre>
<p>Here is a map of our database to help solve our &quot;mazes&quot;</p>
<p><img src="Sample Dataset.png" alt="sql-map"></p>
<h4 id="group-by"><code>GROUP BY</code></h4>
<p>That&apos;s a real nice query, but that&apos;s a lot of duplicate data such as emails and names. And what if I want
to know how much each customer has spent in all? Or how many orders each customer had? We
can run another query to <code>GROUP BY</code> on a column that should be unique:</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> orders.Total, people.<span class="hljs-keyword">Name</span>, people.Email
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">JOIN</span> people <span class="hljs-keyword">ON</span> orders.UserID = people.<span class="hljs-keyword">ID</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> people.Email;
</code></pre>
<p>So this squeezed the <code>people.Email</code>s together so there are now no duplicates, but
it just gives the first order, not very helpful. What we can&apos;t see here is that
all the orders are squished together also, even though it is only showing the first.
We can count those albums using the <code>COUNT</code> function</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(people.Email), orders.Total, people.<span class="hljs-keyword">Name</span>, people.Email
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">JOIN</span> people <span class="hljs-keyword">ON</span> orders.UserID = people.<span class="hljs-keyword">ID</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> people.Email;
</code></pre>
<p>And we can <code>SUM</code> toegether the squished totals.</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(people.Email), <span class="hljs-keyword">SUM</span>(orders.Total), people.<span class="hljs-keyword">Name</span>, people.Email
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">JOIN</span> people <span class="hljs-keyword">ON</span> orders.UserID = people.<span class="hljs-keyword">ID</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> people.Email;
</code></pre>
<p>Let&apos;s clean up these columns a little:</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span>
   <span class="hljs-keyword">COUNT</span>(people.Email) <span class="hljs-keyword">AS</span> <span class="hljs-string">&apos;Number of Invoices&apos;</span>,
   <span class="hljs-keyword">ROUND</span>(<span class="hljs-keyword">SUM</span>(orders.Total), <span class="hljs-number">2</span>) <span class="hljs-keyword">AS</span> <span class="hljs-string">&apos;Total&apos;</span>,
   people.<span class="hljs-keyword">Name</span>,
   people.Email
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">JOIN</span> people <span class="hljs-keyword">ON</span> orders.UserID = people.<span class="hljs-keyword">ID</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> people.Email;
</code></pre>
<p>Using our <code>ORDER BY</code> and <code>DESC</code> statement, we can see who has orderd from us the most times!</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span>
   <span class="hljs-keyword">COUNT</span>(people.Email) <span class="hljs-keyword">AS</span> <span class="hljs-string">&apos;Number of Invoices&apos;</span>,
   <span class="hljs-keyword">ROUND</span>(<span class="hljs-keyword">SUM</span>(orders.Total), <span class="hljs-number">2</span>) <span class="hljs-keyword">AS</span> <span class="hljs-string">&apos;Total&apos;</span>,
   people.<span class="hljs-keyword">Name</span>,
   people.Email
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">JOIN</span> people <span class="hljs-keyword">ON</span> orders.UserID = people.<span class="hljs-keyword">ID</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> people.Email
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">COUNT</span>(people.Email) <span class="hljs-keyword">DESC</span>;
</code></pre>
<h4 id="limit"><code>LIMIT</code></h4>
<p><code>LIMIT</code> is pretty straightforward. It returns only the number of rows you need.
Let&apos;s return the top 10 <code>people</code> with the biggest <code>Total</code> spend.</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span>
   <span class="hljs-keyword">COUNT</span>(people.Email) <span class="hljs-keyword">AS</span> <span class="hljs-string">&apos;Number of Invoices&apos;</span>,
   <span class="hljs-keyword">ROUND</span>(<span class="hljs-keyword">SUM</span>(orders.Total), <span class="hljs-number">2</span>) <span class="hljs-keyword">AS</span> <span class="hljs-string">&apos;Total&apos;</span>,
   people.<span class="hljs-keyword">Name</span>,
   people.Email
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">JOIN</span> people <span class="hljs-keyword">ON</span> orders.UserID = people.<span class="hljs-keyword">ID</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> people.Email
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">SUM</span>(orders.Total) <span class="hljs-keyword">DESC</span>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;
</code></pre>
<p>Resources and tutorials:</p>
<ul>
<li><a href="https://sqlzoo.net/" target="_blank">SQL Zoo</a></li>
<li><a href="https://www.codecademy.com/learn/learn-sql" target="_blank">Codecademy: Learn SQL</a></li>
<li><a href="https://www.youtube.com/watch?v=4bNp906oOhs" target="_blank">Metabase tutorial: Everything you need to know to get started in under 20 min</a></li>
<li><a href="https://www.actiondesk.io/blog/metabase-tutorial-everything-you-need-to-know-in-under-40min" target="_blank">Metabase tutorial: Everything you need to know in under 40 min</a></li>
</ul>
<p></p><p style="text-align: center">&#xA9; 2021 Austin Devs, LLC</p><p></p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
<script>
  localStorage.setItem(':sidebar', false);
  fetch('/_book/gitbook/style.css').catch(function(error) {
    window.location = window.location.href;
  });
</script>


                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Home","level":"1.1","depth":1,"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["-sharing","wide-page","replace-with-index-html"],"pluginsConfig":{"wide-page":{},"replace-with-index-html":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"home.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"home.md","mtime":"2021-08-24T04:10:29.086Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-08-24T04:10:45.101Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-replace-with-index-html/replace.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

